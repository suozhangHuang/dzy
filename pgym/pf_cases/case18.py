# CASE18, distribution
from numpy import array

def case():

    ## PYPOWER Case Format : Version 2
    ppc = {"version": "2"}

    ##-----  Power Flow Data  -----##
    ## system MVA base
    ppc["baseMVA"] = 1

    ## bus data
    # bus_i, type, Pd, Qd, Gs, Bs, area, Vm, Va, baseKV, zone, Vmax, Vmin
    ppc["bus"] = array([
        [1, 3, 0, 0, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [2, 1, 0, 0, 0, 1.2, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [3, 1, 0, 0, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [4, 1, 0.2, 0.12, 0, 1.05, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [5, 1, 0.4, 0.25, 0, 0.6, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [6, 1, 1.5, 0.93, 0, 0.6, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [7, 1, 3, 2.26, 0, 1.8, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [8, 1, 0.8, 0.5, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [9, 1, 0.2, 0.12, 0, 0.6, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [10, 1, 1, 0.62, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [11, 1, 0.5, 0.31, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [12, 1, 1, 0.62, 0, 0.6, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [13, 1, 0.3, 0.19, 0, 1.2, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [14, 1, 0.2, 0.12, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [15, 1, 0.8, 0.5, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [16, 1, 0.5, 0.31, 0, 1.5, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [17, 1, 1, 0.62, 0, 0.9, 1, 1, 0, 12.5, 1, 1.1, 0.9],
        [18, 1, 0.2, 0.12, 0, 0, 1, 1, 0, 12.5, 1, 1.1, 0.9],
    ])

    ## generator data
    # bus, Pg, Qg, Qmax, Qmin, Vg, mBase, status, Pmax, Pmin, Pc1, Pc2, Qc1min, Qc1max, Qc2min, Qc2max, ramp_agc, ramp_10, ramp_30, ramp_q, apf
    ppc["gen"] = array([
        [1, 0, 0, 999, -999, 1.05, 100, 1, 999, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ])

    ## branch data
    # fbus, tbus, r, x, b, rateA, rateB, rateC, ratio, angle, status, angmin, angmax
    ppc["branch"] = array([
        [1, 2, 4.998e-05, 0.00035398, 0, 999, 999, 999, 0, 0, 1, -360, 360],
        [2, 3, 0.000312, 0.00675302, 0, 999, 999, 999, 0, 0, 1, -360, 360],
        [3, 4, 0.00043098, 0.00120403, 0.00035, 999, 999, 999, 0, 0, 1, -360, 360],
        [4, 5, 0.00060102, 0.00167699, 0.00049, 999, 999, 999, 0, 0, 1, -360, 360],
        [5, 6, 0.00031603, 0.00088198, 0.00026, 999, 999, 999, 0, 0, 1, -360, 360],
        [6, 7, 0.000896, 0.00250202, 0.00073, 999, 999, 999, 0, 0, 1, -360, 360],
        [7, 8, 0.00029498, 0.000824, 0.00024, 999, 999, 999, 0, 0, 1, -360, 360],
        [8, 9, 0.00172, 0.00212, 0.00046, 999, 999, 999, 0, 0, 1, -360, 360],
        [9, 10, 0.00407002, 0.00305299, 0.00051, 999, 999, 999, 0, 0, 1, -360, 360],
        [4, 11, 0.00170598, 0.00220902, 0.00043, 999, 999, 999, 0, 0, 1, -360, 360],
        [3, 12, 0.00291002, 0.003768, 0.00074, 999, 999, 999, 0, 0, 1, -360, 360],
        [12, 13, 0.00222202, 0.00287699, 0.00056, 999, 999, 999, 0, 0, 1, -360, 360],
        [13, 14, 0.00480301, 0.00621798, 0.00122, 999, 999, 999, 0, 0, 1, -360, 360],
        [13, 15, 0.00398502, 0.00516, 0.00101, 999, 999, 999, 0, 0, 1, -360, 360],
        [15, 16, 0.00291002, 0.003768, 0.00074, 999, 999, 999, 0, 0, 1, -360, 360],
        [15, 17, 0.00372698, 0.00459302, 0.001, 999, 999, 999, 0, 0, 1, -360, 360],
        [17, 18, 0.001104, 0.00136, 0.00118, 999, 999, 999, 0, 0, 1, -360, 360],
    ])

    return ppc

def pf_case():
    return case()
